
# Лабораторный проект: Исследование распространения информации в распределённых системах

## Цель
Создать воспроизводимую среду из **100+** узлов для проверки времени распространения сообщения при различных 
алгоритмах (single‑cast, multicast, broadcast, gossip и push‑pull gossip) с учётом потерь пакетов и отказов узлов.  
Все эксперименты запускаются **одной командой** и формируют детальные логи.

## Быстрый старт

> Не забудьте установить Docker (≥24.0) и Docker Compose V2.

```bash
git clone <repo> distributed_info_spread
cd distributed_info_spread
./run_experiments.sh               # запускает один эксперимент
```

Результаты появятся в `results/` в виде JSON‑логов, один каталог на каждый алгоритм и набор параметров.

Во время работы контейнеры также публикуют метрики Prometheus. Сервис Grafana автоматически подключается к ним и доступен по адресу [http://localhost:3000](http://localhost:3000) (логин/пароль `admin`/`admin`).

## Структура проекта
```
distributed_info_spread/
├── controller/          # сервис‑агрегатор метрик
│   └── app/
├── node/                # исполняемый код узла
│   └── app/
├── run_experiments.sh   # мастер‑скрипт экспериментов
├── docker-compose.yml   # описания контейнеров
└── results/             # заполняется автоматически
```

## Параметры эксперимента
- **NODE_COUNT** — число узлов (по умолчанию 100).
- **LOSS_PROB** — вероятность потери пакета \([0;1]\).
- **FAIL_PROB** — вероятность, что узел «падает» после получения сообщения.
- **FANOUT** — размер подмножества при multicast и gossip.

Изменить можно в `run_experiments.sh` или через переменные среды.

- **ALGORITHM** — алгоритм распространения (`broadcast`, `multicast`, `singlecast`, `gossip_push`, `gossip_pushpull`).

## Лицензия
MIT
